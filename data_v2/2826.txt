thumb upright 1 35 alt shapley folkman lemma depicted by a diagram with two panes one on left and other on right left hand pane displays four sets which are displayed in a two by two array each of sets contains exactly two points which are displayed in red in each set two points are joined by a pink line segment which is convex hull of original set each set has exactly one point that is indicated with a plus symbol in top row of two by two array plus symbol lies in interior of line segment in bottom row plus symbol coincides with one of red points this completes description of left hand pane of diagram right hand pane displays minkowski sum of sets which is union of sums having exactly one point from each summand set for displayed sets sixteen sums are distinct points which are displayed in red right hand red sum points are sums of left hand red summand points convex hull of sixteen red points is shaded in pink in pink interior of right hand sumset lies exactly one plus symbol which is unique sum of plus symbols from right hand side comparing left array and right pane one confirms that right hand plus symbol is indeed sum of four plus symbols from left hand sets precisely two points from original non convex summand sets and two points from convex hulls of remaining summand sets shapley folkman lemma is illustrated by minkowski addition of four sets point in convex hull of minkowski sum of four non convex sets right is sum of four points from left hand sets two points in two non convex sets plus two points in convex hulls of two sets convex hulls are shaded pink original sets each have exactly two points shown as red dots shapley folkman lemma is a result in convex geometry with applications in mathematical economics that describes minkowski addition of sets in a vector space minkowski addition is defined as addition of sets members for example adding set consisting of integers zero and one to itself yields set consisting of zero one and two 0 1 0 1 0 0 0 1 1 0 1 1 0 1 2 shapley folkman lemma and related results provide an affirmative answer to question is sum of many sets close to being convex a set is defined to be convex if every line segment joining two of its points is a subset in set for example solid disk is a convex set but circle is not because line segment joining two distinct points is not a subset of circle shapley folkman lemma suggests that if number of summed sets exceeds dimension of vector space then their minkowski sum is approximately convex shapley folkman lemma was introduced as a step in proof of shapley folkman theorem which states an upper bound on distance between minkowski sum and its convex hull convex hull of a set q is smallest convex set that contains q this distance is zero if and only if sum is convex theorem s bound on distance depends on dimension d and on shapes of summand sets but not on number of summand sets n shapes of a subcollection of only d summand sets determine bound on distance between minkowski average of n sets q1 q2 qn and its convex hull as n increases to infinity bound decreases to zero for summand sets of uniformly bounded size shapley folkman theorem s upper bound was decreased by starr s corollary alternatively shapley folkman starr theorem lemma of lloyd shapley and jon folkman was first published by economist ross m starr who was investigating existence of economic equilibria while studying with kenneth arrow in his paper starr studied a convexified economy in which non convex sets were replaced by their convex hulls starr proved that convexified economy has equilibria that are closely approximated by quasi equilibria of original economy moreover he proved that every quasi equilibrium has many of optimal properties of true equilibria which are proved to exist for convex economies following starr s 1969 paper shapley folkman starr results have been widely used to show that central results of convex economic theory are good approximations to large economies with non convexities for example quasi equilibria closely approximate equilibria of a convexified economy derivation of these results in general form has been one of major achievements of postwar economic theory wrote roger guesnerie topic of non convex sets in economics has been studied by many nobel laureates besides lloyd shapley who won prize in 2012 arrow 1972 robert aumann 2005 gerard debreu 1983 tjalling koopmans 1975 paul krugman 2008 and paul samuelson 1970 complementary topic of convex sets in economics has been emphasized by these laureates along with leonid hurwicz leonid kantorovich 1975 and robert solow 1987 shapley folkman lemma has applications also in optimization and probability theory in optimization theory shapley folkman lemma has been used to explain successful solution of minimization problems that are sums of many functions shapley folkman lemma has also been used in proofs of law of averages for random sets a theorem that had been proved for only convex sets introductory example for example subset of integers 0 1 2 is contained in interval of real numbers 0 2 which is convex shapley folkman lemma implies that every point in 0 2 is sum of an integer from 0 1 and a real number from 0 1 distance between convex interval 0 2 and non convex set 0 1 2 equals one half 1 2 1 1 2 0 1 2 2 3 2 1 3 2 however distance between average minkowski sum 1 2 0 1 0 1 0 1 2 1 and its convex hull 0 1 is only 1 4 which is half distance 1 2 between its summand 0 1 and 0 1 as more sets are added together average of their sum fills out its convex hull maximum distance between average and its convex hull approaches zero as average includes more summands preliminaries shapley folkman lemma depends upon following definitions and results from convex geometry real vector spaces a real vector space of two dimensions can be given a cartesian coordinate system in which every point is identified by an ordered pair of real numbers called coordinates which are conventionally denoted by x and y two points in cartesian plane can be added coordinate wise x1 y1 x2 y2 x1 x2 y1 y2 further a point can be multiplied by each real number l coordinate wise l x y lx ly more generally any real vector space of finite dimension d can be viewed as set of all d of d real numbers on which two operations are defined vector addition and multiplication by a real number for finite dimensional vector spaces operations of vector addition and real number multiplication can each be defined coordinate wise following example of cartesian plane convex sets in a real vector space a non empty set q is defined to be convex if for each pair of its points every point on line segment that joins them is a subset of q for example a solid disk is convex but a circle is not because it does not contain a line segment joining its points non convex set of three integers 0 1 2 is contained in interval 0 2 which is convex for example a solid cube is convex however anything that is hollow or dented for example a crescent shape is non convex empty set is convex either by definition or depending on author more formally a set q is convex if for all points v0 and v1 in q and for every real number l in unit interval 0 1 point 1 l v0 is a member of q by mathematical induction a set q is convex if and only if every convex combination of members of q also belongs to q by definition a convex combination of an indexed subset v0 v1 vd of a vector space is any weighted average for some indexed set of non negative real numbers ld satisfying equation 1 and definition of a convex set implies that intersection of two convex sets is a convex set more generally intersection of a family of convex sets is a convex set in particular intersection of two disjoint sets is empty set which is convex convex hull thumb right alt a picture of a smoothed triangle like a triangular mexican tortilla chip or a triangular road sign each of three rounded corners is drawn with a red curve remaining interior points of triangular shape are shaded with blue in convex hull of red set each blue point is a convex combination of some red points for every subset q of a real vector space its is minimal convex set that contains q thus conv q is intersection of all convex sets that cover q convex hull of a set can be equivalently defined to be set of all convex combinations of points in q and for example convex hull of set of integers 0 1 is closed interval of real numbers 0 1 which contains integer end points convex hull of unit circle is closed unit disk which contains unit circle minkowski addition thumb alt three squares are shown in non negative quadrant of cartesian plane square is green square is brown and it sits inside turquoise square minkowski addition of sets sum of squares and is square in any vector space or algebraic structure with addition minkowski sum of two non empty sets is defined to be element wise operation see also and for example this operation is clearly commutative and associative on collection of non empty sets all such operations extend in a well defined manner to recursive forms by principle of induction it is easy to see that and convex hulls of minkowski sums minkowski addition behaves well with respect to taking convex hulls specifically for all subsets of a real vector space convex hull of their minkowski sum is minkowski sum of their convex hulls that is and by induction it follows that for any and non empty subsets statements thumb upright 1 35 alt shapley folkman lemma depicted by a diagram with two panes one on left and other on right left hand pane displays four sets which are displayed in a two by two array each of sets contains exactly two points which are displayed in red in each set two points are joined by a pink line segment which is convex hull of original set each set has exactly one point that is indicated with a plus symbol in top row of two by two array plus symbol lies in interior of line segment in bottom row plus symbol coincides with one of red points this completes description of left hand pane of diagram right hand pane displays minkowski sum of sets which is union of sums having exactly one point from each summand set for displayed sets sixteen sums are distinct points which are displayed in red right hand red sum points are sums of left hand red summand points convex hull of sixteen red points is shaded in pink in pink interior of right hand sumset lies exactly one plus symbol which is unique sum of plus symbols from right hand side right hand plus symbol is indeed sum of four plus symbols from left hand sets precisely two points from original non convex summand sets and two points from convex hulls of remaining summand sets minkowski addition and convex hulls sixteen dark red points on right form minkowski sum of four non convex sets on left each of which consists of a pair of red points their convex hulls shaded pink contain plus signs right plus sign is sum of left plus signs by preceding identity for every point there exist elements in convex hulls for dependent upon and such that lemma of shapley and folkman thumb alt picture of lloyd shapley a winner of 2012 nobel award in economics lloyd shapley proved shapley folkman lemma with jon folkman working with above setup shapley folkman lemma states that in above representation at most of summands need to be taken strictly from convex hulls that is there exists a representation of above form such that shuffling indexes if necessary this means that point has a representation where for and for note that re indexing depends on point more succinctly shapley folkman lemma states that as an example every point in is according to lemma sum of an element in and an element in dimension of a real vector space conversely shapley folkman lemma characterizes dimension of finite dimensional real vector spaces that is if a vector space obeys shapley folkman lemma for a natural number d and for no number less than d then its dimension is exactly d shapley folkman lemma holds for only finite dimensional vector spaces credits this result to shapley folkman theorem and starr s corollary thumb alt a blue disk contains red points a smaller green disk sits in largest concavity in among these red points circumradius blue and inner radius green of a point set dark red with its convex hull shown as lighter red dashed lines inner radius is smaller than circumradius except for subsets of a single circle for which they are equal shapley and folkman used their lemma to prove their theorem which bounds distance between a minkowski sum and its convex hull convexified sum shapley folkman theorem states that squared euclidean distance from any point in convexified sum to original unconvexified sum is bounded by sum of squares of d largest of sets qn radii of smallest spheres enclosing these sets this bound is independent of number of summand sets n if shapley folkman theorem states a bound on distance between minkowski sum and its convex hull this distance is zero if and only if sum is convex their bound on distance depends on dimension d and on shapes of summand sets but not on number of summand sets n circumradius often exceeds and cannot be less than inner radius inner radius of a set qn is defined to be smallest number r such that for any point q in convex hull of qn there is a sphere of radius r that contains a subset of qn whose convex hull contains q starr used inner radius to reduce upper bound stated in shapley folkman theorem starr s corollary to shapley folkman theorem states that squared euclidean distance from any point x in convexified sum to original unconvexified sum is bounded by sum of squares of d largest inner radii of sets qn starr s corollary states an upper bound on euclidean distance between minkowski sum of n sets and convex hull of minkowski sum this distance between sum and its convex hull is a measurement of non convexity of set for simplicity this distance is called non convexity of set with respect to starr s measurement thus starr s bound on non convexity of sum depends on only d largest inner radii of summand sets however starr s bound does not depend on number of summand sets n when for example distance between convex interval 0 2 and non convex set 0 1 2 equals one half 1 2 1 1 2 0 1 2 2 3 2 1 3 2 thus starr s bound on non convexity of average qn decreases as number of summands n increases for example distance between averaged set 1 2 0 1 0 1 0 1 2 1 and its convex hull 0 1 is only 1 4 which is half distance 1 2 between its summand 0 1 and 0 1 shapes of a subcollection of only d summand sets determine bound on distance between average set and its convex hull thus as number of summands increases to infinity bound decreases to zero for summand sets of uniformly bounded size in fact starr s bound on non convexity of this average set decreases to zero as number of summands n increases to infinity when inner radii of all summands are bounded by same number proofs and computations original proof of shapley folkman lemma established only existence of representation but did not provide an algorithm for computing representation similar proofs have been given by arrow and hahn cassels and schneider among others an abstract and elegant proof by ekeland has been extended by different proofs have appeared in unpublished papers also in 1981 starr published an iterative method for computing a representation of a given sum point however his computational proof provides a weaker bound than does original result an elementary proof of shapley folkman lemma in finite dimensional space can be found in book by together with applications in estimating duality gap in separable optimization problems and zero sum games applications shapley folkman lemma enables researchers to extend results for minkowski sums of convex sets to sums of general sets which need not be convex such sums of sets arise in economics in mathematical optimization and in probability theory in each of these three mathematical sciences non convexity is an important feature of applications economics thumb right alt nonnegative quadrant of cartesian plane appears a blue straight line slopes downward as a secant joining two points one on each of axes this blue line is tangent to a red curve that touches it at a marked point whose coordinates are labeled qx and qy consumer prefers every basket of goods on indifference curve i3 over each basket on i2 basket qx qy where budget line shown in blue supports i2 is optimal and also feasible unlike any basket lying on i3 which is preferred but unfeasible in economics a consumer s preferences are defined over all baskets of goods each basket is represented as a non negative vector whose coordinates represent quantities of goods on this set of baskets an indifference curve is defined for each consumer a consumer s indifference curve contains all baskets of commodities that consumer regards as equivalent that is for every pair of baskets on same indifference curve consumer does not prefer one basket over another through each basket of commodities passes one indifference curve a consumer s preference set relative to an indifference curve is union of indifference curve and all commodity baskets that consumer prefers over indifference curve a consumer s preferences are convex if all such preference sets are convex and an optimal basket of goods occurs where budget line supports a consumer s preference set as shown in diagram this means that an optimal basket is on highest possible indifference curve given budget line which is defined in terms of a price vector and consumer s income endowment vector thus set of optimal baskets is a function of prices and this function is called consumer s demand if preference set is convex then at every price consumer s demand is a convex set for example a unique optimal basket or a line segment of baskets non convex preferences right thumb alt image of a non convex preference set with a concavity un supported by budget line when consumer s preferences have concavities consumer may jump between two separate optimal baskets however if a preference set is non convex then some prices determine a budget line that supports two separate optimal baskets for example we can imagine that for zoos a lion costs as much as an eagle and further that a zoo s budget suffices for one eagle or one lion we can suppose also that a zoo keeper views either animal as equally valuable in this case zoo would purchase either one lion or one eagle of course a contemporary zoo keeper does not want to purchase half of an eagle and half of a lion or a griffin thus zoo keeper s preferences are non convex zoo keeper prefers having either animal to having any strictly convex combination of both after all one may be indifferent between an automobile and a boat but in most cases one can neither drive nor sail combination of half boat half car when consumer s preference set is non convex then for some prices consumer s demand is not connected a disconnected demand implies some discontinuous behavior by consumer as discussed by harold if indifference curves for purchases be thought of as possessing a wavy character convex to origin in some regions and concave in others we are forced to conclusion that it is only portions convex to origin that can be regarded as possessing any importance since others are essentially unobservable they can be detected only by discontinuities that may occur in demand with variation in price ratios leading to an abrupt jumping of a point of tangency across a chasm when straight line is rotated but while such discontinuities may reveal existence of chasms they can never measure their depth concave portions of indifference curves and their many dimensional generalizations if they exist must forever remain in unmeasurable obscurity difficulties of studying non convex preferences were emphasized by herman p and again by paul samuelson who wrote that non convexities are shrouded in eternal it will be noted that any point where indifference curves are convex rather than concave cannot be observed in a competitive market such points are shrouded in eternal darkness unless we make our consumer a and let him choose between goods lying on a very convex budget curve along which he is affecting price of what he buys in this monopsony case we could still deduce slope of man s indifference curve from slope of observed constraint at equilibrium point eternal darkness describes hell of john milton s paradise lost whose concavity is compared to serbonian bog in book ii lines 592 594 a gulf profound as that serbonian and mount old where armies whole have sunk milton s description of concavity serves as literary epigraph prefacing chapter seven of markets with non convex preferences and production which presents results of according to nonetheless non convex preferences were illuminated from 1959 to 1961 by a sequence of papers in journal of political economy jpe main contributors were farrell bator koopmans p and others for example and and commented on p and rothenberg in particular rothenberg s paper discussed approximate convexity of sums of non convex sets these jpe papers stimulated a paper by lloyd shapley and martin shubik which considered convexified consumer preferences and introduced concept of an approximate equilibrium jpe papers and shapley shubik paper influenced another notion of quasi equilibria due to robert aumann uses results from p p taking convex hull of non convex preferences had been discussed earlier by and by according to starr s 1969 paper and contemporary economics thumb upright alt picture of kenneth arrow kenneth arrow 1972 nobel laureate helped ross m starr to study non convex economies previous publications on non convexity and economics were collected in an annotated bibliography by kenneth arrow he gave bibliography to starr who was then an undergraduate enrolled in arrow s graduate advanced mathematical economics course in his term paper starr studied general equilibria of an artificial economy in which non convex preferences were replaced by their convex hulls in convexified economy at each price aggregate demand was sum of convex hulls of consumers demands starr s ideas interested mathematicians lloyd shapley and jon folkman who proved their eponymous lemma and theorem in private correspondence which was reported by starr s published paper of 1969 in his 1969 publication starr applied shapley folkman starr theorem starr proved that convexified economy has general equilibria that can be closely approximated by quasi equilibria of original economy when number of agents exceeds dimension of goods concretely starr proved that there exists at least one quasi equilibrium of prices popt with following properties for each quasi equilibrium s prices popt all consumers can choose optimal baskets maximally preferred and meeting their budget constraints at quasi equilibrium prices popt in convexified economy every good s market is in equilibrium its supply equals its demand for each quasi equilibrium prices nearly clear markets for original economy an upper bound on distance between set of equilibria of convexified economy and set of quasi equilibria of original economy followed from starr s corollary to shapley folkman theorem starr established that in aggregate discrepancy between an allocation in fictitious economy generated by taking convex hulls of all of consumption and production sets and some allocation in real economy is bounded in a way that is independent of number of economic agents therefore average agent experiences a deviation from intended actions that vanishes in significance as number of agents goes to infinity following starr s 1969 paper shapley folkman starr results have been widely used in economic theory roger guesnerie summarized their economic implications some key results obtained under convexity assumption remain approximately relevant in circumstances where convexity fails for example in economies with a large consumption side preference do not destroy standard results derivation of these results in general form has been one of major achievements of postwar economic theory wrote guesnerie topic of non convex sets in economics has been studied by many nobel laureates arrow 1972 robert aumann 2005 gerard debreu 1983 tjalling koopmans 1975 paul krugman 2008 and paul samuelson 1970 complementary topic of convex sets in economics has been emphasized by these laureates along with leonid hurwicz leonid kantorovich 1975 and robert solow 1987 shapley folkman starr results have been featured in economics literature in microeconomics p in general equilibrium theory in public economics including market failures as well as in game theory in mathematical economics and in applied mathematics for economists shapley folkman starr results have also influenced economics research using measure and integration theory mathematical optimization right thumb upright 1 35 alt a graph of a convex function which is drawn in black its epigraph area above its graph is solid green a function is convex if region above its graph is a convex set shapley folkman lemma has been used to explain why large minimization problems with non convexities can be nearly solved with iterative methods whose convergence proofs are stated for only convex problems shapley folkman lemma has encouraged use of methods of convex minimization on other applications with sums of many functions preliminaries of optimization theory nonlinear optimization relies on following definitions for functions graph of a function f is set of pairs of arguments x and function evaluations f x graph f x f x epigraph of a real valued function f is set of points above graph right thumb alt a graph of sine function which periodically oscillates up and down between 1 and 1 with period 2p sine function is non convex epi f x u f x u a real valued function is defined to be a convex function if its epigraph is a convex set for example quadratic function f x x2 is convex as is absolute value function g x x however sine function pictured is non convex on interval 0 p additive optimization problems in many optimization problems objective function f is separable that is f is sum of many summand functions each of which has its own argument f x f x1 xn fn xn for example problems of linear optimization are separable given a separable problem with an optimal solution we fix an optimal solution xmin x1 xn min with minimum value for this separable problem we also consider an optimal solution xmin f xmin to convexified problem where convex hulls are taken of graphs of summand functions such an optimal solution is limit of a sequence of points in convexified problem xj f xj conv graph fn limit of a sequence is a member of closure of original set which is smallest closed set that contains original set minkowski sum of two closed sets need not be closed so following inclusion can be strict clos p clos q clos clos p clos q inclusion can be strict even for two convex closed summand sets according to ensuring that minkowski sum of sets be closed requires closure operation which appends limits of convergent sequences of course given optimal point is a sum of points in graphs of original summands and of a small number of convexified summands by shapley folkman lemma this analysis was published by ivar ekeland in 1974 to explain apparent convexity of separable problems with many summands despite non convexity of summand problems in 1973 young mathematician claude lemarechal was surprised by his success with convex minimization methods on problems that were known to be non convex for minimizing nonlinear problems a solution of dual problem problem need not provide useful information for solving primal problem unless primal problem be convex and satisfy a constraint qualification lemarechal s problem was separable and each summand function was non convex nonetheless a solution to dual problem provided a close approximation to primal problem s optimal value lemarechal s experiments were discussed in later publications published in first english edition of 1976 ekeland s appendix proves shapley folkman lemma also acknowledging lemarechal s experiments on page 373 ekeland s analysis explained success of methods of convex minimization on large and separable problems despite non convexities of summand functions ekeland and later authors argued that additive produced an approximately convex aggregate problem even though summand functions were non convex crucial step in these publications is use of shapley folkman lemma p and also considered convex closure of a problem of non convex minimization that is problem defined as closed convex hull of epigraph of original problem their study of duality gaps was extended by di guglielmo to closure of a non convex minimization problem that is problem defined as closed convex hull of lower level sets p p shapley folkman lemma has encouraged use of methods of convex minimization on other applications with sums of many functions ref name acknowledging on page 374 and on page 381 describes an application of lagrangian dual methods to scheduling of electrical power plants unit commitment problems where non convexity appears because of integer constraints p p proceedings of 1981 ieee conference on decision and control san diego ca december 1981 pp 432 443 ref probability and measure theory convex sets are often studied with probability theory each point in convex hull of a non empty subset q of a finite dimensional space is expected value of a simple random vector that takes its values in q as a consequence of s lemma thus for a non empty set q collection of expected values of simple q valued random vectors equals q convex hull this equality implies that shapley folkman starr results are useful in probability theory in other direction probability theory provides tools to examine convex sets generally and shapley folkman starr results specifically shapley folkman starr results have been widely used in probabilistic theory of random sets for example to prove a law of large numbers a central limit theorem and a large deviations principle cerf uses applications of shapley folkman lemma from these proofs of probabilistic limit theorems used shapley folkman starr results to avoid assumption that all random sets be convex a probability measure is a finite measure and shapley folkman lemma has applications in non probabilistic measure theory such as theories of volume and of vector measures shapley folkman lemma enables a refinement of brunn minkowski inequality which bounds volume of sums in terms of volumes of their summand sets volume of a set is defined in terms of lebesgue measure which is defined on subsets of euclidean space in advanced measure theory shapley folkman lemma has been used to prove lyapunov s theorem which states that range of a vector measure is convex here traditional term range alternatively image is set of values produced by function a vector measure is a vector valued generalization of a measure for example if p1 and p2 are probability measures defined on same measurable space then product function is a vector measure where is defined for every event o by p1 p2 o p1 o p2 o lyapunov s theorem has been used in economics s article was noted by winner of 1983 nobel prize in economics gerard debreu wrote concept of a convex set i e a set containing segment connecting any two of its points had repeatedly been placed at center of economic theory before 1964 it appeared in a new light with introduction of integration theory in study of economic competition if one associates with every agent of an economy an arbitrary set in commodity space and if one averages those individual sets over a collection of insignificant agents then resulting set is necessarily convex debreu appends this footnote on this direct consequence of a theorem of a a lyapunov see but explanations of functions of prices can be made to rest on convexity of sets derived by that averaging process convexity in commodity space obtained by aggregation over a collection of insignificant agents is an insight that economic theory owes to integration theory italics added in bang bang control theory and in statistical theory was republished in a festschrift for robert j aumann winner of 2008 nobel prize in economics lyapunov s theorem has been called a continuous counterpart of shapley folkman lemma which has itself been called a discrete analogue of lyapunov s theorem notes references reprint of 1970 princeton mathematical series 28 external links category convex hulls category convex geometry category geometric transversal theory category additive combinatorics category category general equilibrium theory category convex optimization category theorems in geometry category lloyd shapley